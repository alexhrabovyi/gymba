"use strict";(self.webpackChunkreact_config=self.webpackChunkreact_config||[]).push([[6084],{4332:function(e,t,n){n.d(t,{c:function(){return d}}),n(3248);var a=n(1504),s=n(3284),c=n(4768),l=n(2084),r=n.n(l),i=n(344),o={nav:"vYt_SOxa",list:"RYHhZhNM",link:"xKuaqUkN",circle:"bjyKqlFY"},u=n(7624);function d(){const e=(0,s.W4)(),t=(0,c.g3)(),[n,l]=(0,a.useState)(null);if(e.categoryId&&e.subcategoryId){const a={categoryId:e.categoryId};if(e.subcategoryId&&e.productId&&(a.subcategoryId=e.subcategoryId),!n&&"idle"===t.state){const e=JSON.stringify(a);t.submit(e,{action:"/getBreadCrumbsInfo",method:"POST",encType:"application/json"})}}t.data&&t.data!==n&&l(t.data);const d=[];return n?Object.values(n).forEach((e=>{let{id:t,name:n,link:s}=e;d.push((0,u.jsxs)(a.Fragment,{children:[(0,u.jsx)("li",{children:(0,u.jsx)("span",{className:o.circle})}),(0,u.jsx)("li",{children:(0,u.jsx)(c.cH,{className:r()(o.link),to:s,alt:n,children:n})})]},t))})):e.articleId&&d.push((0,u.jsxs)(a.Fragment,{children:[(0,u.jsx)("li",{children:(0,u.jsx)("span",{className:o.circle})}),(0,u.jsx)("li",{children:(0,u.jsx)(c.cH,{className:r()(o.link),to:"/news",alt:"Новини",children:"Новини"})})]},"news")),(0,u.jsx)("nav",{className:r()(i.c.container,o.nav),children:(0,u.jsxs)("ul",{className:o.list,children:[(0,u.jsx)("li",{children:(0,u.jsx)(c.cH,{className:o.link,to:"/",alt:"Головна",children:"Головна"})}),d]})})}},5092:function(e,t,n){n.d(t,{c:function(){return j}}),n(3248),n(2168),n(5104),n(8312);var a,s,c,l=n(1504),r=n(4768),i=n(3284),o=n(2084),u=n.n(o),d="CpoH1eIb",m="k0qI0HxD",p="v8ThU_WS",h="KRfFMB2B";function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f.apply(this,arguments)}var x=e=>l.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),a||(a=l.createElement("circle",{cx:12,cy:12,r:2})),s||(s=l.createElement("circle",{cx:20,cy:12,r:2})),c||(c=l.createElement("circle",{cx:4,cy:12,r:2}))),g=n(3108),b=n(7624),j=(0,l.memo)((e=>{let{pageAmount:t}=e;const[n,a]=(0,r.k5)(),s=(0,i.Yi)(),c=(0,l.useRef)(null),[o,f]=(0,l.useState)(),j=(0,l.useCallback)((()=>{f(window.innerWidth)}),[]);(0,l.useLayoutEffect)((()=>{j()}),[j]),(0,g.c)(j);const[v,y]=(0,l.useState)((()=>n.has("page")?+n.get("page"):1));v>t&&0!==t&&(y(1),n.delete("page"),a(n));const N=(0,l.useCallback)((()=>{if("loading"===s.state){const e=new URLSearchParams(s.location.search);if(e.has("page")){const t=+e.get("page");t!==v&&y(t)}else 1!==v&&y(1)}}),[s,v]);let k,w,B,C,P,S,I;(0,l.useEffect)(N,[N]),o>576?(k=t>9,w=k&&v>5,B=k&&v<=t-5):(k=t>7,w=k&&v>4,B=k&&v<=t-4),o>576?k&&!w?(C=1,P=7,I=8):k&&!B?(C=t-6,P=t,S=C-1):w&&B?(C=v-2,P=v+2,S=v-3,I=v+3):k||(C=1,P=t):o<=576&&(k&&!w?(C=1,P=5,I=6):k&&!B?(C=t-4,P=t,S=C-1):w&&B?(C=v-1,P=v+1,S=v-2,I=v+2):k||(C=1,P=t));const E=[];for(let e=C;e<=P;e+=1)E.push((0,b.jsxs)(l.Fragment,{children:[(0,b.jsx)("button",{type:"submit",id:e,onClick:()=>y(e),className:u()(d,e===v&&"BCAIu4mI"),style:{borderRadius:e===C?"4px 0 0 4px":e===P?"0px 4px 4px 0":""},"aria-label":`Перейти на сторінку товарів ${e}`,children:e}),e!==P&&(0,b.jsx)("span",{className:"Y59Bhtlf"})]},e));return(0,b.jsxs)("form",{ref:c,className:"tb_YeEur",onSubmit:function(e){e.preventDefault(),n.set("page",v),a(n)},children:[w&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{type:"submit",id:1,onClick:()=>{y(1),n.set("page",1),a(n)},className:u()(d,m),"aria-label":"Перейти на сторінку товарів 1",children:1}),(0,b.jsx)("button",{type:"submit",id:S,onClick:()=>{y(S),n.set("page",S),a(n)},className:p,"aria-label":`Перейти на сторінку товарів ${S}`,children:(0,b.jsx)(x,{className:h})})]}),E,B&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{type:"submit",id:I,onClick:()=>{y(I),n.set("page",I),a(n)},className:p,"aria-label":`Перейти на сторінку товарів ${I}`,children:(0,b.jsx)(x,{className:h})}),(0,b.jsx)("button",{type:"submit",id:t,onClick:()=>{y(t),n.set("page",t),a(n)},className:u()(d,m),"aria-label":`Перейти на сторінку товарів ${t}`,children:t})]})]})}))},1228:function(e,t,n){n.d(t,{c:function(){return N}});var a,s=n(1504),c=n(4768),l=n(3284),r=n(2084),i=n.n(r),o=n(5940),u=n(9331),d=n(4480),m=n(7420),p=n(1004),h=n(5072),f={card:"ng9dABx4",iconButtonsBlock:"p4hzF2wi",iconButton:"ZZp2HNCb",iconButton_active:"r1jitE9Q",icon:"mhNwLyHJ",spinner:"NfvoTWw1",imageLink:"mIWGXKxs",image:"nXba8_IH",textLink:"L37eDdj5",priceAndCartBlock:"sow6mheQ",oldPrice:"n0o9avSy",price:"gFCxKShI",priceSpan:"uYxY3R1Q",cartButton:"U4HKTUVn",cartIcon:"iBYknE7B",longCard:"w0amIRyi",longImageLink:"JpPVJb61",longImage:"DUq5oKm5",nameAndIconButtons:"OMxa_Mhb",longIconButtonsBlock:"brKOVlyr",longPriceAndCartBlock:"HDJvLypx",longCartButton:"JzF4uXeY"},x=n(7752),g=n(876),b=n(3884);function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},j.apply(this,arguments)}var v=e=>s.createElement("svg",j({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 8 6"},e),a||(a=s.createElement("path",{fill:"#fff",d:"M8 1.044c.006.323-.133.58-.356.804Q6.28 3.2 4.92 4.55c-.373.369-.741.738-1.117 1.107-.462.455-1.094.458-1.552.007Q1.28 4.715.322 3.753C-.103 3.324-.107 2.675.309 2.26c.405-.415 1.067-.415 1.505 0q.205.193.4.395c.232.241.248.544.04.804-.134.168-.14.297-.024.409.12.112.272.095.422-.056Q4.41 2.068 6.168.329c.46-.454 1.164-.435 1.576.037A1 1 0 0 1 8 1.044"}))),y=n(7624),N=(0,s.memo)((e=>{let{name:t,categoryId:a,subcategoryId:r,productId:j,price:N,oldPrice:k,isShortCard:w}=e;const B=(0,c.g3)(),C=(0,c.g3)(),P=(0,c.g3)(),[S]=(0,s.useState)((()=>n(3144)(`./${j}.webp`))),[I,E]=(0,s.useState)(!1),[A,O]=(0,s.useState)(!1),[$,L]=(0,s.useState)(!1);if((0,o.c)(B,"/wishlist"),B.data){const e=B.data.wishlistIds.find((e=>{let[t,n,s]=e;return t===a&&n===r&&s===j}));e!==I&&E(e)}if((0,o.c)(C,"/cart"),C.data){const e=C.data.cartIds.find((e=>e.categoryId===a&&e.subcategoryId===r&&e.productId===j));e!==A&&O(e)}if((0,o.c)(P,"/compare"),P.data){const e=P.data.compareIds.find((e=>{let[t,n,s]=e;return t===a&&n===r&&s===j}));e!==$&&L(e)}function F(){const e=JSON.stringify([a,r,j]);I?B.submit(e,{action:"/wishlist",method:"DELETE",encType:"application/json"}):B.submit(e,{action:"/wishlist",method:"PATCH",encType:"application/json"})}function M(){const e=JSON.stringify([a,r,j]);A?C.submit(e,{action:"/cart",method:"DELETE",encType:"application/json"}):C.submit(e,{action:"/cart",method:"PATCH",encType:"application/json"})}function D(){const e=JSON.stringify([a,r,j]);$?P.submit(e,{action:"/compare",method:"DELETE",encType:"application/json"}):P.submit(e,{action:"/compare",method:"PATCH",encType:"application/json"})}"loading"===B.state&&("patch"!==B.formMethod||I?"delete"===B.formMethod&&I&&E(!1):E(!0)),"loading"===C.state&&("patch"!==C.formMethod||A?"delete"===C.formMethod&&A&&O(!1):O(!0)),"loading"===P.state&&("patch"!==P.formMethod||$?"delete"===P.formMethod&&$&&L(!1):L(!0));const T=`/${a}/${r}/${j}`;return w?(0,y.jsxs)("div",{className:f.card,children:[(0,y.jsxs)("div",{className:f.iconButtonsBlock,children:[(0,y.jsx)("button",{type:"button",className:i()(f.iconButton,$&&f.iconButton_active),"aria-label":$?`Видалити ${t} з порівняння`:`Добавить ${t} в порівняння`,onClick:D,children:(0,y.jsx)(x.c,{className:f.icon})}),(0,y.jsx)("button",{type:"button",className:i()(f.iconButton,I&&f.iconButton_active),"aria-label":I?`Видалити ${t} зі списку бажань`:`Добавить ${t} до списку бажань`,onClick:F,children:(0,y.jsx)(g.c,{className:f.icon})})]}),(0,y.jsx)(c.cH,{className:f.imageLink,to:T,alt:t,children:(0,y.jsx)(s.Suspense,{fallback:(0,y.jsx)(d.c,{className:f.spinner}),children:(0,y.jsx)(l.g5,{resolve:S,children:(0,y.jsx)(m.c,{className:f.image,alt:t})})})}),(0,y.jsx)(c.cH,{className:i()(h.c.link,f.textLink),to:T,alt:t,children:t}),(0,y.jsxs)("div",{className:f.priceAndCartBlock,children:[(0,y.jsxs)("div",{className:f.priceBlock,children:[k&&(0,y.jsxs)("p",{className:f.oldPrice,children:[k,"₴/шт"]}),(0,y.jsxs)("p",{className:f.price,children:[(0,u.c)(N),(0,y.jsx)("span",{className:f.priceSpan,children:"₴/шт"})]})]}),(0,y.jsx)(p.c,{className:f.cartButton,ariaLabel:A?`Видалити ${t} з кошика`:`Додати ${t} до кошику`,onClick:M,children:A?(0,y.jsx)(v,{className:f.cartIcon}):(0,y.jsx)(b.c,{className:f.cartIcon})})]})]}):(0,y.jsxs)("div",{className:f.longCard,children:[(0,y.jsx)(c.cH,{className:f.longImageLink,to:T,alt:t,children:(0,y.jsx)(s.Suspense,{fallback:(0,y.jsx)(d.c,{className:f.spinner}),children:(0,y.jsx)(l.g5,{resolve:S,children:(0,y.jsx)(m.c,{className:f.longImage,alt:t})})})}),(0,y.jsxs)("div",{className:f.nameAndIconButtons,children:[(0,y.jsx)(c.cH,{className:i()(h.c.link,f.longTextLink),to:T,alt:t,children:t}),(0,y.jsxs)("div",{className:f.longIconButtonsBlock,children:[(0,y.jsx)("button",{type:"button",className:i()(f.iconButton,$&&f.iconButton_active),"aria-label":$?`Видалити ${t} з порівняння`:`Додати ${t} в порівняння`,onClick:D,children:(0,y.jsx)(x.c,{className:f.icon})}),(0,y.jsx)("button",{type:"button",className:i()(f.iconButton,I&&f.iconButton_active),"aria-label":I?`Видалити ${t} зі списку бажань`:`Додати ${t} до списку бажань`,onClick:F,children:(0,y.jsx)(g.c,{className:f.icon})})]})]}),(0,y.jsxs)("div",{className:f.longPriceAndCartBlock,children:[(0,y.jsxs)("div",{className:f.priceBlock,children:[k&&(0,y.jsxs)("p",{className:f.oldPrice,children:[k,"₴/шт"]}),(0,y.jsxs)("p",{className:f.price,children:[(0,u.c)(N),(0,y.jsx)("span",{className:f.priceSpan,children:"₴/шт"})]})]}),(0,y.jsx)(p.c,{className:f.longCartButton,ariaLabel:A?`Видалити ${t} з кошика`:`Додати ${t} до кошику`,onClick:M,children:A?"У кошику":"Додати до кошику"})]})]})}))},6084:function(e,t,n){n.r(t),n.d(t,{default:function(){return re}});var a,s,c=n(4332),l=n(1504),r=n(4768),i=n(3284),o=n(2084),u=n.n(o),d=n(3108),m=n(344),p=n(9224),h={main:"uLxLacGh",title:"avfwDg0r",controlBlock:"F4mDexl_",infoBlock:"sVlR3zCZ",filterButton:"sDvkmQ4f",filterIcon:"sVfnyeo6",productAmount:"iAYKzIWO",sortAndAppearanceBlock:"QHmqQ4xc",appearanceOptions:"u4ytHIpu",appearanceButtonBlock:"UOmzjowl",iconButton:"jqfXLzIS",iconButton_active:"KgsmpT9u",buttonIcon:"ix8W8DDV",filtersAndProducts:"AgRO9avY",products:"fJ2mf_HZ",products_long:"ZQNYQcQ0",products_inactive:"WHNy2N5Z",spinnerBlock:"NU6rM92J",noProductsBlock:"zIsYuSgF",noProductsContent:"SsUeYfWT",noProductsLine:"urvZuQRc",noProductsText:"LtAA1T7d",resetButton:"_X6UjZdp",paginationBlock:"LT1CFewl",filterBlockInMenu:"zlq6lh5n"};function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f.apply(this,arguments)}var x=e=>l.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 12 7"},e),a||(a=l.createElement("path",{d:"M.315 6.684c.42.421 1.103.421 1.523 0l4.822-4.84c.42-.421.42-1.106 0-1.528a1.074 1.074 0 0 0-1.523 0L.315 5.156a1.083 1.083 0 0 0 0 1.528"})),s||(s=l.createElement("path",{d:"M11.685 6.684c.42-.422.42-1.107 0-1.529L6.863.316a1.074 1.074 0 0 0-1.523 0 1.083 1.083 0 0 0 0 1.529l4.822 4.839c.42.421 1.102.421 1.523 0"}))),g=n(7624),b=(0,l.memo)((e=>{let{label:t,options:n,defaultSelectedOptionId:a,searchParamName:s}=e;const[c,i]=(0,r.k5)(),[o,d]=(0,l.useState)(!1),[m,h]=(0,l.useState)(a),[f,b]=(0,l.useState)(-1),j=(0,l.useRef)(null),v=(0,l.useRef)(null),y=(0,l.useRef)(null),N=(0,l.useCallback)((()=>{o&&setTimeout((()=>{document.addEventListener("click",(e=>{e.target.closest("[data-select]")!==v.current&&d(!1)}),{once:!0})}))}),[o]);if((0,l.useEffect)(N,[N]),c.has(s)){const e=c.get(s);e!==m&&h(e)}else m!==a&&h(a);const k=n.find((e=>e.id===m)),w=n.map(((e,t)=>(0,g.jsx)("button",{type:"button",className:u()("ZWRzePxj",m===e.id&&"SBMzeuxy"),id:e.id,role:"option","aria-selected":m===e.id,style:{paddingTop:0===t?"12px":"",paddingBottom:t===n.length-1?"12px":""},children:e.name},e.id)));return(0,g.jsxs)("form",{className:"EtVgbqdG",children:[(0,g.jsx)("p",{className:u()(p.c.text,p.c.textBlack,"C4nKxN8k"),children:`${t}:`}),(0,g.jsxs)("div",{ref:v,className:"zQNZWgl7","data-select":!0,children:[(0,g.jsxs)("button",{ref:j,className:"EBImIV3D",type:"button",onClick:function(){d(!o),b(-1),o||setTimeout((()=>{y.current.focus()}),0)},"aria-label":`Відкрити селектор ${t}`,children:[k.name,(0,g.jsx)(x,{className:u()("mMlZ7KRM",o&&"JFkv_MYz")})]}),(0,g.jsx)("div",{ref:y,onClick:function(e){const t=e.target.closest('[role="option"]');if(!t)return;const n=t.id;h(n),d(!1),c.set(s,n),i(c),j.current.focus()},onKeyDown:function(e){if("ArrowDown"===e.code){e.preventDefault();let t=f+1;t===n.length&&(t=0),y.current.children[t].focus(),b(t)}else if("ArrowUp"===e.code){e.preventDefault();let t=f-1;t<0&&(t=n.length-1),y.current.children[t].focus(),b(t)}else if("Home"===e.code){e.preventDefault();const t=0;y.current.children[t].focus(),b(t)}else if("End"===e.code){e.preventDefault();const t=n.length-1;y.current.children[t].focus(),b(t)}},className:"Kn2yoz7g",style:{display:o?"":"none"},role:"listbox","aria-activedescendant":m,tabIndex:"0",children:w})]})]})})),j=(n(3248),n(2168),n(5104),n(8312),"XUr6FON3"),v=(0,l.memo)((e=>{let{value:t,isChecked:n,updateParams:a}=e;return(0,g.jsxs)("button",{className:"ij4rxv5e",type:"submit",onClick:function(){a(n?e=>e.filter((e=>e!==t)):e=>[...e,t])},role:"checkbox","aria-checked":n,children:[(0,g.jsx)("span",{className:u()("J05l6pCI",n&&"tutd0kBq")}),t]})}));function y(e){let{name:t,values:n,initIsClosed:a=!1}=e;const[s,c]=(0,r.k5)(),i=(0,l.useRef)(null),[o,d]=(0,l.useState)(a),[m,h]=(0,l.useState)(!0),[f,b]=(0,l.useState)([]),y=n.size>=8;(0,l.useEffect)((()=>{s.has(t)?b(s.getAll(t)):b([])}),[s,t]);const N=Array.from(n).sort().map(((e,t)=>(0,g.jsx)("li",{hidden:y&&m&&t>4,children:(0,g.jsx)(v,{value:e,isChecked:f.includes(e),updateParams:b})},e)));if(y){const e=(0,g.jsx)("li",{children:(0,g.jsx)("button",{className:"G5duVe9K",onClick:()=>h((e=>!e)),type:"button",children:m?"Показати ще":"Згорнути"})},"AccordionButton");m?N.splice(4,1,e):N.push(e)}return(0,g.jsxs)("form",{onSubmit:function(e){e.preventDefault();const n=new URLSearchParams;f.forEach((e=>n.append(t,e))),Array.from(s).forEach((e=>{let[a,s]=e;a!==t&&n.append(a,s)})),c(n)},className:j,children:[(0,g.jsxs)("button",{type:"button",className:"Lnpx8WXN",onClick:()=>d(!o),"aria-label":o?`Розкрити меню фільтрів ${t}`:`Згорнути меню фільтрів ${t}`,children:[(0,g.jsx)("p",{className:u()(p.c.text,p.c.textFw700,"wNzQ8TOO"),children:t}),(0,g.jsx)(x,{className:u()("yTmUcUlx",o&&"_MXECbNC")})]}),(0,g.jsx)("ul",{ref:i,className:"LvJo9on2",style:{display:o?"none":""},children:N})]})}var N="yYY9FGZK",k="zsGFALdr";function w(){const e=(0,r.g3)(),t=(0,i.W4)(),[n,a]=(0,r.k5)(),[s,c]=(0,l.useState)(!1),[o,d]=(0,l.useState)(!1),[m,h]=(0,l.useState)(null),[f,b]=(0,l.useState)(null),[j,v]=(0,l.useState)(null),[y,w]=(0,l.useState)(null),[B,C]=(0,l.useState)(null),[P,S]=(0,l.useState)(null),[I,E]=(0,l.useState)(null),[A,O]=(0,l.useState)(null),[$,L]=(0,l.useState)(""),[F,M]=(0,l.useState)(""),[D,T]=(0,l.useState)(null),[R,H]=(0,l.useState)(null),_=(0,l.useRef)(null),W=(0,l.useRef)(null),K=(0,l.useRef)(null),Y=(0,l.useRef)(null),z=(0,l.useRef)(null),U=t.categoryId,Z=t.subcategoryId,q=n.size?`/getSubcategoryProducts/${U}/${Z}?${n.toString()}`:`/getSubcategoryProducts/${U}/${Z}`,Q=Number(null==m?void 0:m.minPrice)||0,J=Number(null==m?void 0:m.maxPrice)||0;!function(){if(j!==Q&&v(Q),y!==J&&w(J),o)Q>I&&j!==Q?C(I):Q<I&&j!==Q&&C(Q),J<A&&y!==J?S(A):J>A&&y!==J&&S(J);else if(n.has("minPrice")){const e=Number(n.get("minPrice")),t=Number(n.get("maxPrice"));Q>e&&j!==Q?C(e):Q<e&&j!==Q&&C(Q),J<t&&y!==J?S(t):J>t&&y!==J&&S(J),e!==I&&(E(e),L(e)),t!==A&&(O(t),M(t))}else B!==Q&&C(Q),P!==J&&S(J),I!==Q&&(E(Q),L(Q)),A!==J&&(O(J),M(J))}();const V=(0,l.useCallback)((()=>{if("loading"===e.state&&o)if(n.has("minPrice")){const e=Number(n.get("minPrice")),t=Number(n.get("maxPrice"));e!==I&&(E(e),L(e)),t!==A&&(O(t),M(t))}else d(!1)}),[e,n,I,A,o]);(0,l.useLayoutEffect)(V,[V]);const X=(0,l.useCallback)((()=>{"idle"!==e.state||e.data||(b(q),e.load(q))}),[e,q]);(0,l.useEffect)(X,[X]);const G=(0,l.useCallback)((()=>{f!==q&&(b(q),e.load(q))}),[f,q,e]);(0,l.useEffect)(G,[G]),e.data&&e.data.filteredProductsAndMinMaxPrice!==m&&h(e.data.filteredProductsAndMinMaxPrice);const ee=(0,l.useCallback)((()=>W.current.offsetWidth),[]),te=(0,l.useCallback)((()=>Y.current.offsetWidth/ee()*100),[ee]),ne=(0,l.useCallback)(((e,t)=>{const n=te(),a=100-2*n,s=P-B,c=(t-B)/s;if(0===s)T(0),H(Number((100-te()).toFixed(2)));else if("min"===e){const e=Number((c*a).toFixed(2));T(e)}else if("max"===e){const e=Number((c*a+n).toFixed(2));H(e)}}),[te,B,P]),ae=(0,l.useCallback)((()=>{ne("min",I),ne("max",A)}),[I,A,ne]);(0,l.useLayoutEffect)(ae,[ae]);const se=(0,l.useCallback)((()=>{if(o)return;const e=_.current;return Q===J&&I===Q&&A===J&&(e.style.opacity="0.5",e.style.pointerEvents="none"),()=>{Q===J&&I===Q&&A===J&&(e.style.opacity="",e.style.pointerEvents="")}}),[o,Q,J,I,A]);(0,l.useEffect)(se,[se]);const ce=(0,l.useCallback)((()=>{const e=R-D,t=D;K.current.style.width=`${e}%`,K.current.style.left=`${t}%`}),[D,R]);function le(e){e.preventDefault(),d(!0);const{buttonType:t}=e.target.dataset,n="min"===t?Y.current:z.current,a=te();let s,c;"min"===t?(s=0,c=R-a):(s=D+a,c=100-a);const l=e.clientX-n.getBoundingClientRect().left;function r(e){const n=W.current.getBoundingClientRect().left;let a=(e.clientX-n-l)/ee()*100;a<s?a=s:a>c&&(a=c),a=Number(a.toFixed(2)),function(e,t){const n=te(),a=100-2*n,s=P-B;if("min"===e){let e=t/a*s+B;e=Number(e.toFixed()),E(e),L(e)}else{let e=(t-n)/a*s+B;e=Number(e.toFixed()),O(e),M(e)}}(t,a)}n.setPointerCapture(e.pointerId),n.addEventListener("pointermove",r),n.addEventListener("pointerup",(function(){n.removeEventListener("pointermove",r)}),{once:!0})}function re(e){const t=e.target.name,{value:n}=e.target;"minPrice"===t?L(n):M(n)}function ie(e){if("Enter"===e.code){d(!0);const t=e.target.name;let n=Number(e.target.value);"minPrice"===t&&n>A?n=A:"maxPrice"===t&&n<I?n=I:n<B?n=B:n>P&&(n=P),"minPrice"===t?(L(n),E(n)):(M(n),O(n))}}function oe(e){const{buttonType:t}=e.target.dataset;if("ArrowUp"===e.code||"ArrowRight"===e.code)if(e.preventDefault(),d(!0),"min"===t){let e=I+1;e>A&&(e=A),E(e),L(e)}else{let e=A+1;e>P&&(e=P),O(e),M(e)}else if("ArrowDown"===e.code||"ArrowLeft"===e.code)if(e.preventDefault(),d(!0),"min"===t){let e=I-1;e<B&&(e=B),E(e),L(e)}else{let e=A-1;e<I&&(e=I),O(e),M(e)}else if("PageUp"===e.code){e.preventDefault(),d(!0);const n=.05*(P-B);if("min"===t){let e=Number((I+n).toFixed(0));e>A&&(e=A),E(e),L(e)}else{let e=Number((A+n).toFixed(0));e>P&&(e=P),O(e),M(e)}}else if("PageDown"===e.code){e.preventDefault(),d(!0);const n=.05*(P-B);if("min"===t){let e=Number((I-n).toFixed(0));e<B&&(e=B),E(e),L(e)}else{let e=Number((A-n).toFixed(0));e<I&&(e=I),O(e),M(e)}}else if("Home"===e.code)if(e.preventDefault(),d(!0),"min"===t){const e=A;E(e),L(e)}else{const e=P;O(e),M(e)}else if("End"===e.code)if(e.preventDefault(),d(!0),"min"===t){const e=B;E(e),L(e)}else{const e=I;O(e),M(e)}}return(0,l.useLayoutEffect)(ce,[ce]),(0,g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n.set("minPrice",I),n.set("maxPrice",A),a(n)},className:"waf8WvSb",children:[(0,g.jsxs)("button",{type:"button",className:"Hpb9AbWn",onClick:()=>c(!s),"aria-label":s?"Розкрити меню фільтрів Ціна":"Згорнути меню фільтрів Ціна",children:[(0,g.jsx)("p",{className:u()(p.c.text,p.c.textFw700,"XTD2OIvj"),children:"Ціна, ₴"}),(0,g.jsx)(x,{className:u()("WcTPjmeX",s&&"KSbrm3F6")})]}),(0,g.jsxs)("div",{ref:_,className:"irJeSRkK",style:{display:s?"none":""},children:[(0,g.jsxs)("div",{className:"vp7Q7DwC",children:[(0,g.jsx)("span",{ref:W,className:"ObvBEqmG"}),(0,g.jsx)("span",{ref:K,className:"FodQN4uV"}),(0,g.jsx)("button",{ref:Y,onPointerDown:le,onKeyDown:oe,type:"submit","data-button-type":"min",className:N,style:{left:`${D}%`},role:"slider","aria-valuemin":B,"aria-valuemax":A,"aria-valuenow":I,"aria-label":"Повзунок мінімальної ціни товару"}),(0,g.jsx)("button",{ref:z,onPointerDown:le,onKeyDown:oe,type:"submit","data-button-type":"max",className:N,style:{left:`${R}%`},role:"slider","aria-valuemin":I,"aria-valuemax":P,"aria-valuenow":A,"aria-label":"Повзунок максимальної ціни товару"})]}),(0,g.jsxs)("div",{className:"rOAyyLPi",children:[(0,g.jsx)("input",{onInput:re,onKeyDown:ie,type:"number",name:"minPrice",className:k,value:$,min:B,max:A,"aria-label":"Введіть мінімальну ціну товару"}),(0,g.jsx)("span",{className:"iXoGuZlL",children:"-"}),(0,g.jsx)("input",{onInput:re,onKeyDown:ie,type:"number",name:"maxPrice",className:k,value:F,min:I,max:P,"aria-label":"Введіть максимальну ціну товару"})]})]})]})}var B=n(6354),C=(0,l.memo)((e=>{let{subcategoryFilters:t}=e;const n=(0,l.useMemo)((()=>{if(t)return Object.entries(t).map(((e,t)=>{let[n,a]=e;return(0,g.jsx)(y,{name:n,values:a,initIsClosed:t>1},n)}))}),[t]);return(0,g.jsxs)("div",{className:"CI0jh1RG",children:[(0,g.jsx)(w,{}),n||(0,g.jsx)(B.c,{})]})})),P={filtersBlock:"thU7aGHN",filtersBlock_active:"EYfNGdC3",button:"FbDNj9Ud",button_grey:"nGPeqguZ",icon:"o7XHLrep"},S=n(2872);function I(){const[e,t]=(0,r.k5)(),n=Array.from(e).filter((e=>{let[t]=e;return"page"!==t&&"perView"!==t&&"sortBy"!==t&&"minPrice"!==t&&"maxPrice"!==t})),a=n.length||e.has("minPrice");let s;if(e.has("minPrice")){const n=e.get("minPrice"),a=e.get("maxPrice");s=(0,g.jsxs)("button",{type:"button",className:P.button,"aria-label":"Видалити фільтр цін",onClick:()=>{e.delete("minPrice"),e.delete("maxPrice"),t(e)},children:[(0,g.jsx)(S.c,{className:P.icon}),`${n} - ${a}`]})}const c=n.map((n=>{let[a,s]=n;return(0,g.jsxs)("button",{type:"button",className:P.button,"aria-label":`Видалити фільтр ${a} зі значенням ${s}`,onClick:()=>{const n=Array.from(e).filter((e=>{let[t,n]=e;return!(t===a&&n===s)}));t(n)},children:[(0,g.jsx)(S.c,{className:P.icon}),s]},`${a}-${s}`)})),l=(0,g.jsxs)("button",{type:"button",className:u()(P.button,P.button_grey),"aria-label":"Видалити всі фільтри",onClick:()=>{const n=Array.from(e).filter((e=>{let[t]=e;return"perView"===t||"sortBy"===t}));t(n)},children:[(0,g.jsx)(S.c,{className:P.icon}),"Видалити все"]});return(0,g.jsxs)("div",{className:u()(P.filtersBlock,a&&P.filtersBlock_active),children:[s,c,l]})}var E,A,O,$,L,F,M,D,T,R=n(1228),H=n(5092),_=n(9361),W=n(9288),K=n(3412),Y=(0,l.memo)((e=>{let{children:t,isMenuOpen:n,setIsMenuOpen:a,label:s,openButton:c}=e;const r=(0,l.useRef)(null),i=(0,l.useRef)(null);(0,_.c)(n),(0,W.c)(i,n);const o=(0,l.useCallback)((()=>{const e=i.current;e.style.height="",e.style.overflowY="";const t=window.innerHeight,n=e.scrollHeight;e.style.overflowY=n>t?"scroll":"hidden",e.style.height=`${t}px`}),[]);(0,l.useLayoutEffect)(o,[o]),(0,d.c)(o);const p=(0,l.useCallback)((()=>{n&&i.current.focus()}),[n]);return(0,l.useEffect)(p,[p]),(0,g.jsx)("div",{ref:r,className:u()(K.c.backdrop,n&&K.c.backdrop_active),onClick:function(e){e.target===r.current&&(a(!1),c.focus())},children:(0,g.jsxs)("div",{ref:i,className:u()(m.c.container,"zkazkxpW",n&&"gZMFc6AB"),"aria-hidden":!n,role:"dialog","aria-modal":!0,"aria-label":s,tabIndex:n?"0":"-1",children:[(0,g.jsx)("button",{type:"button",className:"lUuW6k41","aria-label":`Закрити ${s}`,onClick:()=>{a(!1),c.focus()},children:(0,g.jsx)(S.c,{className:"a0SMnWXZ"})}),t]})})}));function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},z.apply(this,arguments)}var U,Z,q,Q,J,V,X=e=>l.createElement("svg",z({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),E||(E=l.createElement("rect",{width:4,height:4,x:4,y:4,rx:1})),A||(A=l.createElement("rect",{width:4,height:4,x:4,y:10,rx:1})),O||(O=l.createElement("rect",{width:4,height:4,x:4,y:16,rx:1})),$||($=l.createElement("rect",{width:4,height:4,x:10,y:4,rx:1})),L||(L=l.createElement("rect",{width:4,height:4,x:10,y:10,rx:1})),F||(F=l.createElement("rect",{width:4,height:4,x:10,y:16,rx:1})),M||(M=l.createElement("rect",{width:4,height:4,x:16,y:4,rx:1})),D||(D=l.createElement("rect",{width:4,height:4,x:16,y:10,rx:1})),T||(T=l.createElement("rect",{width:4,height:4,x:16,y:16,rx:1})));function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},G.apply(this,arguments)}var ee,te=e=>l.createElement("svg",G({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),U||(U=l.createElement("rect",{width:11,height:3,x:9,y:5,rx:1})),Z||(Z=l.createElement("rect",{width:11,height:3,x:9,y:11,rx:1})),q||(q=l.createElement("rect",{width:11,height:3,x:9,y:17,rx:1})),Q||(Q=l.createElement("rect",{width:3,height:3,x:4,y:5,rx:1})),J||(J=l.createElement("rect",{width:3,height:3,x:4,y:11,rx:1})),V||(V=l.createElement("rect",{width:3,height:3,x:4,y:17,rx:1})));function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ne.apply(this,arguments)}var ae=e=>l.createElement("svg",ne({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 1792 1792"},e),ee||(ee=l.createElement("path",{d:"M1595 295q17 41-14 70l-493 493v742q0 42-39 59-13 5-25 5-27 0-45-19l-256-256q-19-19-19-45V858L211 365q-31-29-14-70 17-39 59-39h1280q42 0 59 39"}))),se=n(2860),ce=n(1004);function le(){const e=(0,r.g3)(),[t,n]=(0,r.k5)(),a=(0,i.W4)(),s=(0,l.useRef)(),[c,o]=(0,l.useState)(null),[f,x]=(0,l.useState)(null),[j,v]=(0,l.useState)(null),[y,N]=(0,l.useState)(!1),[k,w]=(0,l.useState)(),[P,S]=(0,l.useState)(null),E=a.categoryId,A=a.subcategoryId,O=null==c?void 0:c.categoryId,$=null==c?void 0:c.subcategory.name,L=null==c?void 0:c.subcategory.id,F=(0,l.useMemo)((()=>null==j?void 0:j.filteredAndSortedProducts),[j]),M=null==j?void 0:j.productAmount,D=null==j?void 0:j.pageAmount,T=t.size?`/getSubcategoryProducts/${E}/${A}?${t.toString()}`:`/getSubcategoryProducts/${E}/${A}`,_=(0,l.useCallback)((()=>{w(window.innerWidth)}),[]);(0,l.useLayoutEffect)((()=>{_()}),[_]),(0,d.c)(_);const[W,K]=(0,l.useState)((()=>{const e=localStorage.getItem("productCardAppearance");if(e){if("short"===e)return!0;if("long"===e)return!1}return!0})),z=(0,l.useCallback)((()=>{"idle"!==e.state||e.data||(S(T),e.load(T))}),[e,T]);(0,l.useEffect)(z,[z]);const U=(0,l.useCallback)((()=>{P!==T&&(S(T),e.load(T))}),[P,T,e]);(0,l.useEffect)(U,[U]),e.data&&(e.data.categoryAndSubcategory!==c&&o(e.data.categoryAndSubcategory),e.data.subcategoryFilters!==f&&x(e.data.subcategoryFilters),e.data.filteredProductsAndMinMaxPrice!==j&&v(e.data.filteredProductsAndMinMaxPrice));const Z=(0,l.useMemo)((()=>null==F?void 0:F.map((e=>(0,g.jsx)(R.c,{name:e.name,categoryId:O,subcategoryId:L,productId:e.id,price:e.price,oldPrice:e.oldPrice,isShortCard:k<=576||W},e.id)))),[F,O,L,k,W]),q=(0,l.useMemo)((()=>(0,g.jsx)("div",{className:h.noProductsBlock,children:(0,g.jsxs)("div",{className:h.noProductsContent,children:[(0,g.jsx)(se.c,{className:h.noProductsLine}),(0,g.jsx)("p",{className:u()(p.c.text,p.c.textFw800,p.c.text48px,h.noProductsText),children:"Товари не знайдено"}),(0,g.jsx)(ce.c,{className:h.resetButton,onClick:function(){const e=Array.from(t).filter((e=>{let[t]=e;return"perView"===t||"sortBy"===t}));n(e)},children:"Видалити фільтри"})]})})),[t,n]),Q=(0,l.useMemo)((()=>[{name:"за замовчуванням",id:"default"},{name:"за назвою (А - Я)",id:"name-A-Z"},{name:"за назвою (Я - А)",id:"name-Z-A"},{name:"за ціною (зменшення)",id:"price-down"},{name:"за ціною (зростання)",id:"price-up"}]),[]),J=(0,l.useMemo)((()=>[{name:"6",id:"6"},{name:"9",id:"9"},{name:"12",id:"12"}]),[]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("main",{className:u()(m.c.container,h.main),children:[(0,g.jsx)("h1",{className:u()(p.c.text,p.c.textFw800,p.c.text48px,p.c.textBlack,h.title),children:$}),(0,g.jsxs)("div",{className:h.controlBlock,children:[(0,g.jsxs)("div",{className:h.infoBlock,children:[k<=1024&&(0,g.jsx)("button",{ref:s,type:"button",className:h.filterButton,"aria-haspopup":"dialog","aria-label":"Відкрити меню фільтрів",onClick:()=>N(!0),children:(0,g.jsx)(ae,{className:h.filterIcon})}),k>576&&(0,g.jsxs)("p",{className:u()(p.c.text,p.c.textBlack,h.productAmount),"aria-atomic":"true","aria-live":"assertive",children:["Усього товарів:",(0,g.jsx)("span",{children:void 0!==M?M:"Завантаження ..."})]})]}),(0,g.jsxs)("div",{className:h.sortAndAppearanceBlock,children:[(0,g.jsx)(b,{label:"Сортувати за",options:Q,defaultSelectedOptionId:"default",searchParamName:"sortBy"}),(0,g.jsxs)("div",{className:h.appearanceOptions,children:[(0,g.jsx)(b,{label:"Показувати по",options:J,defaultSelectedOptionId:"12",searchParamName:"perView"}),k>576&&(0,g.jsxs)("div",{className:h.appearanceButtonBlock,children:[(0,g.jsx)("button",{className:u()(h.iconButton,W&&h.iconButton_active),type:"button",onClick:function(){K(!0),localStorage.setItem("productCardAppearance","short")},"aria-label":"Показувати маленькі карточки товарів",children:(0,g.jsx)(X,{className:h.buttonIcon})}),(0,g.jsx)("button",{className:u()(h.iconButton,!W&&h.iconButton_active),type:"button",onClick:function(){K(!1),localStorage.setItem("productCardAppearance","long")},"aria-label":"Показувати великі карточки товарів",children:(0,g.jsx)(te,{className:h.buttonIcon})})]})]})]})]}),(0,g.jsxs)("div",{className:h.filtersAndProducts,children:[k>1024&&(0,g.jsx)(C,{subcategoryFilters:f}),(0,g.jsxs)("div",{className:u()(W?h.products:h.products_long,"loading"===e.state&&void 0!==Z&&h.products_inactive),children:[k>1024&&(0,g.jsx)(I,{}),void 0===Z?(0,g.jsx)(B.c,{blockClassName:h.spinnerBlock}):Z.length>0?Z:q,(0,g.jsx)("div",{className:h.paginationBlock,children:(0,g.jsx)(H.c,{pageAmount:D})})]})]})]}),k<=1024&&(0,g.jsx)(Y,{isMenuOpen:y,setIsMenuOpen:N,label:"Меню фільтрів",openButton:s.current,children:(0,g.jsx)("div",{className:h.filterBlockInMenu,children:(0,g.jsx)(C,{subcategoryFilters:f})})})]})}function re(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(c.c,{}),(0,g.jsx)(le,{})]})}},9331:function(e,t,n){function a(e){const t=e.toString().split("").reverse();let n=0,a=0;return t.forEach(((e,s)=>{a%3==0&&0!==s&&(t.splice(s+n,0," "),n+=1),a+=1})),t.reverse().join("")}n.d(t,{c:function(){return a}})}}]);